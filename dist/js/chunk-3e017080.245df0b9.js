(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e017080"],{"7c28":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"error-messages"},t._l(t.errors,(function(e,s){return r("li",{key:s},[t._v(t._s(s)+": "+t._s(t._f("error")(e)))])})),0)},o=[],i={props:{errors:{type:Object,required:!0}}},a=i,n=r("2877"),c=Object(n["a"])(a,s,o,!1,null,null,null);e["a"]=c.exports},"89b7":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"tag-list"},t._l(t.tags,(function(e,s){return r("li",{key:s,staticClass:"tag-pill tag-default"},["article"==t.type?r("i",{staticClass:"ion-close-round",on:{click:function(r){return t.$emit("removeTag",e)}}}):t._e(),t._v(" "+t._s(e)+" ")])})),0)},o=[],i=(r("b0c0"),{props:{tags:{type:Array},type:{type:String,default:"global"}},mounted:function(){},computed:{getRouteName:function(){return this.$route.name}}}),a=i,n=r("2877"),c=Object(n["a"])(a,s,o,!1,null,null,null);e["a"]=c.exports},b0c0:function(t,e,r){var s=r("83ab"),o=r("9bf2").f,i=Function.prototype,a=i.toString,n=/^\s*function ([^ (]*)/,c="name";s&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return a.call(this).match(n)[1]}catch(t){return""}}})},bd06:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-page"},[r("div",{staticClass:"banner"},[r("div",{staticClass:"container"},[r("h1",[t._v(t._s(t.article.title))]),r("ArticleMeta",{attrs:{user:t.user,article:t.article,profile:t.profile},on:{removeArticle:t.removeArticle,processFavorite:t.processFavorite,follow:t.follow,unfollow:t.unfollow}})],1)]),r("div",{staticClass:"container page"},[r("div",{staticClass:"row article-content"},[r("div",{staticClass:"col-md-12"},[r("p"),r("h2",{attrs:{id:"introducing-ionic"}},[t._v(t._s(t.article.description))]),r("p",[t._v(t._s(t.article.body))]),r("TagList",{attrs:{tags:t.article.tagList}})],1)]),r("hr"),r("div",{staticClass:"article-actions"},[r("ArticleMeta",{attrs:{user:t.user,article:t.article,profile:t.profile},on:{removeArticle:t.removeArticle,processFavorite:t.processFavorite,follow:t.follow,unfollow:t.unfollow}})],1),r("div",{staticClass:"row"},[t.isAuth?r("CommentContain",{attrs:{slug:t.slug,user:t.user,author:t.author}}):r("div",{staticClass:"col-xs-12 col-md-8 offset-md-2"},[r("p",[r("router-link",{attrs:{to:{name:"login"}}},[t._v("Sign in")]),t._v(" or "),r("router-link",{attrs:{to:{name:"register"}}},[t._v("sign up")]),t._v(" to add comments on this article. ")],1)])],1)])])},o=[],i=r("5530"),a=r("2f62"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-meta"},[r("router-link",{attrs:{to:{name:"MyArticles",params:{username:t.profile.username||"admin"}}}},[r("img",{attrs:{src:t.profile.image}})]),r("div",{staticClass:"info"},[r("router-link",{staticClass:"author",attrs:{to:{name:"MyArticles",params:{username:t.profile.username||"admin"}}}},[t._v(" "+t._s(t.profile.username)+" ")]),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(t.article.createdAt)))])],1),0==t.profile.following&&0==t.isAuthor?r("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.$emit("follow",t.profile.username)}}},[r("i",{staticClass:"ion-plus-round"}),t._v(" Follow "+t._s(t.profile.username)+" ")]):t._e(),1==t.profile.following&&0==t.isAuthor?r("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.$emit("unfollow",t.profile.username)}}},[r("i",{staticClass:"ion-plus-round"}),t._v(" Unfollow "+t._s(t.profile.username)+" ")]):t._e(),t._v(" "),0==t.isAuthor?r("button",{staticClass:"btn btn-sm",class:{"btn-outline-primary":!t.article.favorited,"btn-primary":t.article.favorited},on:{click:function(e){return t.$emit("processFavorite",t.article.favorited)}}},[r("i",{staticClass:"ion-heart"}),t._v(" Favorite Post "),r("span",{staticClass:"counter"},[t._v("("+t._s(t.article.favoritesCount)+")")])]):t._e(),1==t.isAuthor?r("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"EditArticle",params:{slug:t.article.slug}}}},[r("i",{staticClass:"ion-edit"}),r("span",[t._v(" Edit Article")])]):t._e(),t._v(" "),1==t.isAuthor?r("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:t.removeArticle}},[r("i",{staticClass:"ion-trash-a"}),r("span",[t._v(" Delete Article")])]):t._e()],1)},c=[],l={props:{article:{type:Object},profile:{type:Object},user:{type:Object,required:!0}},created:function(){},methods:{removeArticle:function(){this.$emit("removeArticle")}},computed:{isAuthor:function(){return!(this.user.username!=this.profile.username)}}},u=l,m=r("2877"),f=Object(m["a"])(u,n,c,!1,null,null,null),p=f.exports,d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-xs-12 col-md-8 offset-md-2"},[r("ErrorNotify",{attrs:{errors:t.errors}}),r("form",{staticClass:"card comment-form"},[r("div",{staticClass:"card-block"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.body,expression:"form.body"}],staticClass:"form-control",attrs:{placeholder:"Write a comment...",rows:"3"},domProps:{value:t.form.body},on:{input:function(e){e.target.composing||t.$set(t.form,"body",e.target.value)}}})]),r("div",{staticClass:"card-footer"},[r("img",{staticClass:"comment-author-img",attrs:{src:t.user.image}}),r("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return e.preventDefault(),t.postComment(e)}}},[t._v(" Post Comment ")])])]),t._l(t.comments,(function(e){return r("app-comment",{key:e.id,attrs:{user:t.user,comment:e,slug:t.slug},on:{setErrors:t.setErrors}})}))],2)},h=[],v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-block"},[r("p",{staticClass:"card-text"},[t._v(t._s(t.comment.body))])]),r("div",{staticClass:"card-footer"},[r("router-link",{staticClass:"comment-author",attrs:{to:{name:"MyArticles",params:{username:t.author.username||"admin"}}}},[r("img",{staticClass:"comment-author-img",attrs:{src:t.author.image}})]),t._v(" "),r("router-link",{staticClass:"comment-author",attrs:{to:{name:"MyArticles",params:{username:t.author.username||"admin"}}}},[t._v(t._s(t.author.username)+" ")]),r("span",{staticClass:"date-posted"},[t._v(t._s(t._f("date")(t.comment.createdAt)))]),t.user.username==t.author.username?r("span",{staticClass:"mod-options",on:{click:function(e){return e.preventDefault(),t.removeComment(e)}}},[r("i",{staticClass:"ion-trash-a"})]):t._e()],1)])},b=[],g={props:{slug:{type:String,required:!0},user:{type:Object,required:!0},comment:{type:Object,required:!0}},mounted:function(){},methods:{removeComment:function(){var t=this;this.$store.dispatch("comment/removeComment",{slug:this.slug,id:this.id}).catch((function(e){t.$emit("setErrors",e.errors)}))}},computed:{author:function(){var t=this.comment.author;return t||{}},id:function(){return this.comment.id}}},_=g,C=Object(m["a"])(_,v,b,!1,null,null,null),y=C.exports,A=r("7c28"),w={props:{slug:{type:String,required:!0},user:{type:Object,required:!0},author:{type:Object,required:!0}},data:function(){return{form:{body:null},errors:{}}},methods:{postComment:function(){var t=this;this.$store.dispatch("comment/createComment",{slug:this.slug,form:this.form}).then((function(){t.form.body=""})).catch((function(e){t.errors=e.errors}))},setErrors:function(t){this.errors=t}},mounted:function(){this.$store.dispatch("comment/fetchComments",this.slug)},computed:Object(i["a"])({},Object(a["c"])({comments:"comment/comments"})),components:{AppComment:y,ErrorNotify:A["a"]}},$=w,j=Object(m["a"])($,d,h,!1,null,null,null),k=j.exports,O=r("89b7"),E={props:{slug:{type:String}},mounted:function(){var t=this;this.$store.dispatch("article/fetchArticle",this.slug).then((function(){t.$store.dispatch("profile/fetchProfile",t.author.username)}))},methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])({favorite:"article/favoriteArticle",unfavorite:"article/unfavoriteArticle",follow:"profile/follow",unfollow:"profile/unfollow"})),{},{processFavorite:function(t){var e=this;this.isAuth?t?this.unfavorite(this.article.slug).then((function(){e.$store.dispatch("article/fetchArticle",e.slug)})):this.favorite(this.article.slug).then((function(){e.$store.dispatch("article/fetchArticle",e.slug)})):this.$router.push({name:"login"})},removeArticle:function(){var t=this;this.$store.dispatch("article/removeArticle",this.slug).then((function(){t.$router.push({name:"GlobalFeed"})})).catch((function(t){console.log(t)}))}}),computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])({article:"article/article",user:"auth/user",profile:"profile/profile",isAuth:"auth/isAuth"})),{},{author:function(){var t=this.article.author;return t||{}}}),components:{ArticleMeta:p,CommentContain:k,TagList:O["a"]}},x=E,F=Object(m["a"])(x,s,o,!1,null,null,null);e["default"]=F.exports}}]);
//# sourceMappingURL=chunk-3e017080.245df0b9.js.map